# Decision Making Strategy
In order to make decisions that will have a significant effect on the project the team must come to a consensus decision. The following steps will be taken to strive for independent thought preceding each decision and ensure acceptance of the final decision:

1. Each member of the project team will be given the opportunity to state their perspective uninterrupted by the rest of the team.
2. If perspectives differ then a collaboration or compromise will be created so that the best possible decision can be made.
3. If the differences are not resolvable within the team then a majority 3-1 vote may be accepted to go accept a particular decision.
4. If the vote is split then the team will seek advice from stakeholders:
   * If the decision is design related the client will be contacted to have a final say on the decision.
   * If the decision is governance related then the shadow team will be contacted to provide insight and if necessary more votes (of which a majority of at least 7/10 will be accepted).
     * If an acceptable majority cannot be reached even with the shadow team then the tutor will be contacted for advice.
5. If after step 4 a decision still cannot be reached then the course convenor will be contacted as a last resort.

# Decision Log

| Date: | Stakeholders Involved | Decision Made: | Reason For Decision: | Effect on Project: |
| :---: | :---: | :---: | :---: | :---: |
| 2018-08-08  | Project Team  | Conduct research into medical device regulation and open source medical device projects | The team is aware that there are significant regulations surrounding medical devices by the branch of the government that regulates medical devices - The Therapeutic Goods Administration (TGA). The team needs to be sure that this device is not doing anything against current regulations and so research into medical devices should be conducted.  | First the research lead will work on determining how the TGA defines what a medical device is, to determine if this project falls under those regulations. From this, if necessary, the team will work on ensuring that we are complying with regulations - e.g. that we are not a manufacturer. This will lead into how open source devices are regulated and what processes other open source projects may have followed to remove liability if necessary.  |
| 2018-08-11 | Project Team | Commence New Development of Software | The HackADay code was not working as intended. The Networking segments of code where not applying, and as such we were not able to get a remote stream on a separate device. | Minimal. While some features could not be observed, it felt appropriate to move on and develop a more robust code to work with the device provided to us. The unobserved features (Brightness and Contrast controls) may still need to be considered, as they still affect the final product, and may slow development while the workings of these features be determined. |
| 2018-08-16 | Project Team | Manual Software Controls over Hardware Processing | Parameter editing required to be in place before they can be automatically adjusted | Will help understand how to create the automatic controls, as they should work by manual control firstly, before being handed over to software algorithms |
| 2018-08-18 | Project Team and Client | Utilise the power switches on the PiJuice, and implement a low power state. | Turning off the device may become a secondary concern for users as other processes may take precedence, such as properly disposing of any sharps used, or an urgent matter is raised with another patient. This leaves the device continually running to drain the battery, becoming unusable until it has been recharged. Implementing a power off/sleep timer will be of a benefit during a busy period in the workplace. | There is a concern that the streaming script will not continue should it resume for a low power state. testing will need to be done to see if this idea is viable. Alternatively, ensuring that the device boots from no power within 10-15 seconds is suitable. The auto off function should still be implemented to turn the device off if it is not already. |
| 2018-08-22 | Hardware Team | Order bulk 850nm IR LEDs | The 850nm wavelength has been seen to be near optimal for vein detection, as it is absorbed by the hemoglobin in our blood, and reflected by our skin to create the contrast we need to identify veins. Given this is important, a large batch was ordered for testing and final implementations. Other wavelengths will be purchased to compare against and possibly augment the 850nm LEDs. | Using these LEDs will hopefully give the best image contrast. however, testing a mix of higher and lower wavelengths may allow for better performance, as it may result in a deeper penetration of light. |
| 2018-08-23 | Software Team | Change of Streaming Method | Orignial streaming script was hard to modify as classes were confusing to interpret how they were setting up the bit streams. After hours of attempting to modify this code, it was eventually scrapped all together. Instead, a Flask script was found which allowed for OpenCV functions to be parsed into a stream. Initially there was difficulty feeding the video input from the PiCam directly into the stream. The solution to this was to iteratively have the PiCam take an image, apply a histogram equalisation, and feed the image into the stream. This is performed every time an image is taken, which is dictated by the given framerate. | Positive: processed image is now successfully streaming to an external device.
| 2018-08-23 | Software Team | Change to Framerate | Framerate of camera shutter set to 60 frames-per-second rather than <32. Increasing the framerate gave for a much darker yet smoother stream, and allowed objects focused under IR light to illumate far greater than they did at the lower framerate. This is most likely due to the lens having less time to take in external interfering light sources between each shutter. As a result, veins appear are far more clearly visible at the higher framerate. | Positive: knowing that the framerate directly correlates with the quality of the image allows for more thorough investigation into the best framerate for the clearest image. |
| 2018-08-24 | Hardware Team | Optimise Case Design | The case printed successfully, however some issues were immediately apparent. The case itself was too big to hold comfortably, which does not align with the project requirements, as well as the simple mounting solution for the Pi was not ideal and easily came away from the case. The LED array does not have a mounting solution as of yet. V1.1 addresses the mounting solution for the Pi, as well as some little issues that could be addressed immediately. v2.0 has started to address the size issue, and potentially the LED mounting solution | Positive. This is an iterative process that has started early and allows us to bring any physical issues to light, allows us to rectify them, and optimise the solution. |
| 2018-09-15  | Project Team  | Not to undergo testing  | Discussion with legal services brought up possible need for ethics approval for testing. This was then confirmed through email correspondence with the ANU Human ethics committee, expressly stating ethics approval would be needed for testing on humans for the project. This correspondence is comprehensively summarised in the Resources folder of the repository.  | As human ethics approval is an extended process, there is no time for this to be persued at this stage of the project, and the client would prefer if we did not spend resources persuing further information on this. Hence, testing outside of the project team is outside the scope of this project, and the project team accepts that this will limit improvements to the functionality of the device. Testing documents will be prepared for the future of the project but all other use of the device will be considered demonstration only and no notes or human aspects will be documented.  |
| 2018-09-19 | Software Team | Software Focus | Decision was unanamously made by team to have the primary focus for the software team for the remainder of the project to be the Flask/JS web interface to allow for manual variable control. This will include sliders and buttons to allow for the manual adjustment of camera attributes (saturation, brightness, contrast, etc) and the level of equilization/processing occuring to image. This decision was made in line with the decision to focus on the VeinCam to be an educational tool, and the manual control will allow users to have more control to see what variables will get the clearest vein images. | Positive: there is now a set goal and direction to be taken throughout the final weeks of the project. This decision will ensure "feature creep" doesn't greatly influence or affect the outcomes of the project. |
| 2018-09-22  | Project team and Client | Shift purpose of device to educational  | Through conversations with the therapeutic goods administration who regulate medical devices, the team became aware that by purposing the device as a medical device, they would not be able to distribute any information about how to make the device. With input from the client on what he is comfortable with going forward, the decision was made to move the focus from medical to educational purposes only.  | Hence changes were made to the Concept of operations and requirements as the device is no longer purposed for use in intravenous procedures, and the user of the device has now been changed. |
| 2018-09-22  | Project team and Client | Add cardboard template of case as alternative to 3D printing  | Was highlighted multiple times by the shadow team and tutor that 3D printing was not an accessible option for an open source project. Upon discussion within the team and with consideration from the client it was unanimously agreed the a simple but accessible alternative will be a cardboard net template that can be provided alongside the CAD designs for the case.  | Hardware team now needs to design this template so that a test print and construction of a basic cardboard case can be tested |
| 2018-09-29 | Project Team and Client | Rebuild System due to failures | During the meeting with the client, the device failed to both broadcast the WiFi consistently, and when it was able to be connected to, the web page failed to load. It was decided that the project team will maintain ownership of the device, and strive to get the device working as intended. The Hardware team decided to recover the code from the device, and rebuild the operating system, as it was believed that there may have been remnant software left over from previous testing. The device is to be handed back to the client 2/9/2018 so they have ample time to test the device. | Positive. Despite being a large set back, we know our final solution and can optimise the system for this solution exclusively. This has the potential to help performance of the device overall, as it will only have what is required. |
| 2018-10-01 | Hardware and Software | Maintain system backups of the device as checkpoints | Due to the failure presented on 29/9/2018, it was decided to maintain system backups of the device for quick resets to a particular point, reducing the time to prepare the operating system after another failure. | Positive. This will also allow us to provide a system image to be made available for users of the device, so that they can use their device within a fraction of the time to prepare the device. |
